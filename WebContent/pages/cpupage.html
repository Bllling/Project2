
<div class="conditions">
	<!--list-title end-->
	<div id="J_ManuFilter" class="filter-brand filter-brand-multi">
	<input id="HardWareType" value="cpu" style='display:none;'/>
		<strong class="filter-type">CPU名称：</strong>
		<div id="name" class="brand-hot brand-list" style="display: block;">
			<a href="javascript:void(0);" class="all active" target="_self"
				id="name-0">不限</a>
			<div class="search-box">
				<input type="text" id="name-1" onclick="unActiveName();" value="请输入名称" /> <i onclick="setName();	  	     		proList(hName.val,price.minPrice,price.maxPrice,frequency.minFrequency,frequency.maxFrequency,cores.val,page,rows);
"></i>
			</div>
		</div>
	</div>

	<div id="priceItem" class="filter-item filter-price">
		<strong class="filter-type">价格区间：</strong>
		<div id="price" class="param-value-list">
			<a href="javascript:void(0);" class="all active" target="_self"
				id="price-0">不限</a> <a href="javascript:void(0);" target="_self"
				id="price-500">500元以下</a> <a href="javascript:void(0);"
				target="_self" id="price-1500">500-1500元</a> <a
				href="javascript:void(0);" target="_self" id="price-1">1500元以上</a>
		</div>
		<div class="price-self">
			<input id="minPrice" type="text" /> <em>-</em> <input id="maxPrice"
				type="text" /> 
			<span id="subPri" class="price-button" onclick="unActivePrice();proList(hName.val,price.minPrice,price.maxPrice,frequency.minFrequency,frequency.maxFrequency,cores.val,page,rows);">确定</span>
		</div>
	</div>
   

	<div id="pamItem1" class="filter-item">
		<strong class="filter-type">CPU主频：</strong>
		<div id="frequency" class="param-value-list">
			<a href="javascript:void(0);" class="all active" target="_self"
				id="frequency-0">不限</a> <a href="javascript:void(0);" target="_self"
				id="frequency-2">2.0GHz以下</a> <a href="javascript:void(0);"
				target="_self" id="frequency-2-5">2.0-2.5GHz</a> <a
				href="javascript:void(0);" target="_self" id="frequency-3">2.5-3.0GHz</a>
			<a href="javascript:void(0);" target="_self" id="frequency-3-5">3.0-3.5GHz</a>
			<a href="javascript:void(0);" target="_self" id="frequency-4">3.5-4.0GHz</a>
		</div>
	</div>


	<div id="pamItem3" class="filter-item">
		<strong class="filter-type">核心数量：</strong>
		<div id="cores" class="param-value-list">
			<a href="javascript:void(0);" class="all active" target="_self"
				id="cores-0">不限</a> <a href="javascript:void(0);" target="_self"
				id="cores-16">十六核心</a> <a href="javascript:void(0);" target="_self"
				id="cores-12">十二核心</a> <a href="javascript:void(0);" target="_self"
				id="cores-10">十核心</a> <a href="javascript:void(0);" target="_self"
				id="cores-8">八核心</a> <a href="javascript:void(0);" target="_self"
				id="cores-6">六核心</a> <a href="javascript:void(0);" target="_self"
				id="cores-4">四核心</a> <a href="javascript:void(0);" target="_self"
				id="cores-3">三核心</a> <a href="javascript:void(0);" target="_self"
				id="cores-2">双核心</a>
		</div>
		
	</div>
	<div class="sort-box clearfix" >
		 <div class="small-page">
			 			 <a class="small-page-prev " href="javascript:toprev()" target="_self" style="background-position: 1px -44px;">&nbsp;</a>
			<span class="small-page-active"><b id="nowpage" >1</b>/<b id="totalpage">20</b></span>
			<a href="javascript:tonext()" class="small-page-next " target="_self" style="background-position: -78px -44px;">&nbsp;</a>
		 </div>      
		 <span class="total">共 <b style="color: #999;">626</b>款</span>
		 
		</div>
        <div class="plist"> </div>
	<!--hide end-->
	<!-- 显卡列表 -->
	

	<!-- 显卡列表 -->
	
</div>

<script type="text/javascript">

	
      var hName = {
              chosed: "name-0",
              val: "null"
      }
      
      var price = {
              chosed: "price-0",
              minPrice: 0,
              maxPrice: 999999999
      }
     
	  	
      var frequency = {
              chosed: "frequency-0",
              minFrequency: 0,
              maxFrequency: 999999999
      }
	  	
      var cores = {
      		chosed: "cores-0",
      		val: "null"
      }
      
      function unActivePrice() {
    	  var minPrice = $("#minPrice").val();
    	  var maxPrice = $("#maxPrice").val();
    	  
    	  if (minPrice != "" && maxPrice != "" && parseInt(maxPrice) >= parseInt(minPrice)) {
        	  $("#" + price.chosed).removeClass("active");
        	  price.minPrice = minPrice;
        	  price.maxPrice = maxPrice;
    	  } else {
    		  alert('请输入正确的数据');
    	  }
      }
      
      
      
      function unActiveName() {
    	  var str = $("#name-1").val();
    	  
    	  if (str == "请输入名称"){
    		  $("#name-1").val("");
    		  $("#name-0").removeClass("active");
    	  }
    	 
      }
      
      function setName() {
    	  var str = $("#name-1").val();    	  
    	  hName.val = $("#name-1").val();
    	  console.log(hName.val);
      }

      
        
	  	function init(){

	  		
	  	    var array = $('.conditions a');
	  	    for(var i=0;i<array.length;i++)
	  	    {
	  	     	array[i].onclick = function() {
	  	     		//获取该节点id
	  	     		var thisID = this.id;
	  	     		//获取该结点的父节点id
	  	     		var parentID = $(this).parent().attr('id');
	  	     		
	  	     		
	   	     		//判断属性
	  	     		if (parentID == "price") {
	  	     			//给对象赋值
	  	     			if (thisID == ("price-0")) {
	  	     				$("#" + price.chosed).removeClass("active");
	  	     				price.chosed = "price-0";
	  	     				price.minPrice = 0;
	  	     				price.maxPrice = 999999999;
	  	     			} else if (thisID == ("price-500")) {
	  	     				$("#" + price.chosed).removeClass("active");
	  	     				price.chosed = "price-500";
	  	     				price.minPrice = 0;
	  	     				price.maxPrice = 500;
	  	     			} else if (thisID == ("price-1500")) {
	  	     				$("#" + price.chosed).removeClass("active");
	  	     				price.chosed = "price-1500";
	  	     				price.minPrice = 500;
	  	     				price.maxPrice = 1500;
	  	     			}  else if (thisID == ("price-1")) {
	  	     				$("#" + price.chosed).removeClass("active");
	  	     				price.chosed = "price-1";
	  	     				price.minPrice = 1500;
	  	     				price.maxPrice = 999999999;
	  	     			}
	  	     		} else if (parentID == ("frequency")) {
	  	     			//给对象赋值
	  	     			if (thisID == ("frequency-0")) {
	  	     				$("#" + frequency.chosed).removeClass("active");
	  	     				frequency.chosed = "frequency-0";
	  	     				frequency.minFrequency = 0;
	  	     				frequency.maxFrequency = 999999999;
	  	     			} else if (thisID == ("frequency-2")) {
	  	     				$("#" + frequency.chosed).removeClass("active");
	  	     				frequency.chosed = "frequency-2";
	  	     				frequency.minFrequency = 0;
	  	     				frequency.maxFrequency = 2.0;
	  	     			} else if (thisID == ("frequency-2-5")) {
	  	     				$("#" + frequency.chosed).removeClass("active");
	  	     				frequency.chosed = "frequency-2-5";
	  	     				frequency.minFrequency = 2.0;
	  	     				frequency.maxFrequency = 2.5;
	  	     			}  else if (thisID == ("frequency-3")) {
	  	     				$("#" + frequency.chosed).removeClass("active");
	  	     				frequency.chosed = "frequency-3";
	  	     				frequency.minFrequency = 2.5;
	  	     				frequency.maxFrequency = 3.0;
	  	     			}  else if (thisID == ("frequency-3-5")) {
	  	     				$("#" + frequency.chosed).removeClass("active");
	  	     				frequency.chosed = "frequency-3-5";
	  	     				frequency.minFrequency = 3.0;
	  	     				frequency.maxFrequency = 3.5;
	  	     			}  else if (thisID == ("frequency-4")) {
	  	     				$("#" + frequency.chosed).removeClass("active");
	  	     				frequency.chosed = "frequency-4";
	  	     				frequency.minFrequency = 3.5;
	  	     				frequency.maxFrequency = 4;
	  	     			}
	  	     		} else if (parentID == ("cores")) {
	  	     			//给对象赋值
	  	     			if (thisID == ("cores-0")) {
	  	     				$("#" + cores.chosed).removeClass("active");
	  	     				cores.chosed = "cores-0";
	  	     				cores.val = "null";
	  	     			} else if (thisID == ("cores-16")) {
	  	     				$("#" + cores.chosed).removeClass("active");
	  	     				cores.chosed = "cores-16";
	  	     				cores.val = 16;
	  	     			} else if (thisID == ("cores-12")) {
	  	     				$("#" + cores.chosed).removeClass("active");
	  	     				cores.chosed = "cores-12";
	  	     				cores.val = 12;
	  	     				console.log("cores.val=" + cores.val);
	  	     			}  else if (thisID == ("cores-10")) {
	  	     				$("#" + cores.chosed).removeClass("active");
	  	     				cores.chosed = "cores-10";
	  	     				cores.val = 10;
	  	     			}  else if (thisID == ("cores-8")) {
	  	     				$("#" + cores.chosed).removeClass("active");
	  	     				cores.chosed = "cores-8";
	  	     				cores.val = 8;
	  	     			}  else if (thisID == ("cores-6")) {
	  	     				$("#" + cores.chosed).removeClass("active");
	  	     				cores.chosed = "cores-6";
	  	     				cores.val = 6;
	  	     			}  else if (thisID == ("cores-4")) {
	  	     				$("#" + cores.chosed).removeClass("active");
	  	     				cores.chosed = "cores-4";
	  	     				cores.val = 4;
	  	     			}  else if (thisID == ("cores-3")) {
	  	     				$("#" + cores.chosed).removeClass("active");
	  	     				cores.chosed = "cores-3";
	  	     				cores.val = 3;
	  	     			}  else if (thisID == ("cores-2")) {
	  	     				$("#" + cores.chosed).removeClass("active");
	  	     				cores.chosed = "cores-2";
	  	     				cores.val = 2;
	  	     			}
	  	     		} else if (parentID == ("name")) {
	  	     			$("#name-1").val("请输入名称");
	  	     			hName.val = "null";
	  	     		}
	   	     		
	
	  	     		proList(hName.val,price.minPrice,price.maxPrice,frequency.minFrequency,frequency.maxFrequency,cores.val,page,rows);
	   	     		
	  	     		$(this).addClass("active");
	  	     	}
	  	    }
	  	}
	  	
	  	function tonext(){
	  		var totalpage=$("#totalpage").html();
	  		var page=parseInt($("#nowpage").html())+1;
	  		if(page>totalpage){
	  			page--;
	  			alert("已翻到最底页，不能再向下翻页");
	  			return;
	  		}
	  		$("#nowpage").html(page);
	  		 find();
	  	}
	  	function toprev(){
	  		var totalpage=$("#totalpage").html();
	  		var page=parseInt($("#nowpage").html())-1;
	  		if(page<1){
	  			page++;
	  			alert("已翻到最顶页，不能再向上翻页");
	  			return;
	  		}
	  		$("#nowpage").html(page);
	  		find();
	  	}
	  	function getTotal(name,minPrice,maxPrice,minFrequency,maxFrequency,cores){
	  		$.post("hardwareinfo",
	  		{   op:"getTotalCpu",
	  			name : name,
				minPrice :minPrice,
				maxPrice : maxPrice,
				minFrequency : minFrequency,
				maxFrequency : maxFrequency,
				cores : cores
				}
	  		,function(data){
	  				$(".total b").html(data);
	  				$("#totalpage").html(Math.ceil(data/6));
	  		},"text")
	  	}

	  	function proList(name,minPrice,maxPrice,minFrequency,maxFrequency,cores,page,rows) {
	  		console.log(name);
			$.post("hardwareinfo", 
			{
				op : "findCpuByPage1",
				name : name,
				minPrice :minPrice,
				maxPrice : maxPrice,
				minFrequency : minFrequency,
				maxFrequency : maxFrequency,
				cores : cores,
				page : page,
				rows : rows
			}, 
			function(data) {
				var str="";
				console.log(data);
			
				$.each(data,function(index,item){			
					str += '<div class="pitem clearfix s_1249003 p_1249003 " reldate="1249003" relmanu="125" id='+item.cpuid+'> <div class="pic"> <a href="javascript:void(0);" class=""> <img src="'+item.pics+'" alt="Intel 酷睿i5 9400F" /> </a> </div> <div class="price-box"> <span class="price">￥'+item.cpuprice+'</span> <a href="javascript:void(0);" target="_self" class="add"><i></i>加入配置单</a> </div> <div class="pro-intro">  <h3> <a href="http://detail.zol.com.cn/cpu/index1249003.shtml" target="_blank" title="Intel 酷睿i5 9400F" class="">'+item.name+'</a> <i>'+item.usetimes+'</i>人已选用 </h3> <div class="paramet"> <span title="LGA 1151 ">默认主频：<em>'+item.frequency+'</em></span><span title="2.9GHz ">最大主频：<em>'+item.maxfrequency+' </em></span><span title="4.1GHz ">跑分：<em>'+item.score+' </em></span><span title="六核心  六线程">核心数量：<em>'+item.cores+' '+item.threads+'</em></span> </div>  </div> </div>';		
				})
				$(".plist").html($(str));
				
				
				//给每个cpu添加监听				
				$(".add").parent().parent().each(function(){
					$(this).click(function(){
						alert($(this).attr('id'));
					})
				})
				
			}, "json");
		}



	init();
	proList(hName.val,price.minPrice,price.maxPrice,frequency.minFrequency,frequency.maxFrequency,cores.val,page,rows);
	hName.val = $("#name-1").val();
	console.log(hName.val);
</script>

