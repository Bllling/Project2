<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
	<style>
		body{
			font: 12px/1.5 tahoma,arial,Hiragino Sans GB,\\5B8B\4F53,sans-serif;
			width: 100%;
			height: auto;
		}
		.whole{
			width: 100%;
			height: auto;
		}
		table{ 
			border-collapse:collapse;width: 100%;
			margin-top: 25px;
		    text-align: center;
		}
		.text1{
			border: 1px solid #bfbfbf;
		    box-sizing: border-box;
   			display: inline-block;
            height: 26px;
			width: 236px;
    		padding: 4px 8px;
			border-radius: 5px;
		}
		.btn1{
			border: 1px solid #bfbfbf;
			width: 82px;
			height: 25px;
			background: rgb(245,245,245);
		    box-sizing: border-box;
			margin-left: -5px;
			border-radius: 5px;
			
		}
		.tr1{
			background: rgb(245,245,245);
			color: rgb(60,60,60);
			height: 35px;
		}
		.tr2{
			background: rgb(234,248,255);
			height: 35px;
		}
		tbody:hover{
			border: 1px solid skyblue;
		}
		.img1{
			float: left;
			display:block;
		}
		.img{
			float: left;
			display: none;
		}
		.computerp{
			float: left;
		}
		.nav{
			margin-top: 25px;
		}
		.btn2{
			 background-color: #118adb;
   			 border:1px solid #118adb;
			 color: white;
			 border-radius: 5px;
		}
		.comp{
			word-wrap: break-word;
			width: 350px;
		}
		.imgdel{
		     height: 17px;
   			 width: 1px;
   			 padding-left: 17px;
   			 overflow: hidden;
   			 vertical-align: middle;
   			 font-size: 0px;
    		 display: inline-block;
   			 visibility: visible;
    		 background: url(../images/delect.png) no-repeat -239px -176px;
    }
       .outdiv{
      	    z-index:999;
			position: fixed;
			display: block;
			background: rgba(0, 0, 0, .6);
			border: 1px solid rgb(240,240,240);
			border-radius:5px;
			width: 400px;
			height: 150px;
			line-height: 75px;
			margin-left: 480px;
			margin-top: -200px;
			text-align: center;
			overflow: hidden;
       }
       .popOutBg {
			width: 100%;
			height: 100%;
			position: fixed;
			left: 0;
			top: 0;
			background: rgba(0, 0, 0, .6);
			display: none;
			z-index:999;
	}

		.popOut {
			position: fixed;
			width: 320px;
			height: 100px;
			top: 50%;
			left: 50%;
			margin-top: -150px;
			margin-left: -180px;
			background: #fff;
			border-radius: 8px;
			overflow: hidden;
			display: none;
			z-index:999;
			position: fixed;
			text-align: center;
		}	
		.imgdel:HOVER {
		cursor: pointer;
		}
		#detail{
		color:rgb(0,0,0);
		text-decoration: none;
		
		}

	</style>
</head>	
<body>
	<div class="whole">
		<div class="nav">
			<input type="text" placeholder="输入订单号或配置名字进行搜索" id="scan" class="text1">
			<input type="button" value="订单搜索" class="btn1" onclick="find()">
		</div>
		<div>
			<table>
				<tr class="tr1">
					<th style="width:40% ">攒机配置</th>
					<th style="width:10%">总价</th>
					<th style="width:10% ">数量</th>
					<th style="width:20%">交易状态</th>
					<th style="width:20%">交易操作</th>
				</tr>
				<tbody id="orderTbody" >
					<tr class="tr2" >

						<td align="left"><input type="radio" name="radio"><span>2019-11-12</span>&emsp;订单号:<span>34232484</span></td>
						<td colspan="3" align="left"> 攒机作者:<span>xxxx</span></td>

						<td align="left">
							<span>2019-11-12</span>
							&emsp;订单号:<span>34232484</span>
						</td>
						<td colspan="3" align="left">
					    	 攒机作者:<span>xxxx</span>
						</td>

						<td><a href="javascript:delete1();" id="content" class="imgdel"></a></td>
					</tr>
					<tr>
						<td id="computerbody">
							<img src="../../No2pics/cpu1.jpg" class="img1" ><img src="../../No2pics/zhuban1.jpg" class="img"><img src="../../No2pics/neicun1.jpg" class="img"><img src="../../No2pics/yingpang1.jpg" class="img"><img src="../../No2pics/dianyuan1.jpg" class="img"><img src="../../No2pics/xianka1.jpg" class="img"><img src="../../No2pics/jixiang1.jpg" class="img">
							<div class="computerp"><p  class="comp" align="left">配置名字</p><p class="comp"  align="left">配置介绍</p></div>
						</td>
						<td>￥0.30</td>
						<td>1</td>

						<td id="orderState">卖家已发货</td>

						<td><p>卖家已发货<p><a href="" id="detail">订单详情</a></td>

						<td><input type="button" value="确定收货" class="btn2"></td>
					</tr>
				</tbody>
				
			</table>
			
		</div>
		<div class="popOutBg" id="pop1" style="display: none;"></div>
	<div class="popOut" id="pop2" style="display: none;">
		<p style="margin-top: 20px;">你确定要删除此订单吗？</p>
		<input type="button" value="确定" onclick="yes()" class="btn2" style="margin-top: -150px;margin-right: 30px;">
		<input type="button" value="关闭" onclick="no()" class="btn2">
		
	</div>
	</div>
	
</body>
	<script src="../js/jquery-3.4.1.min.js"></script>
	<script>
     
	    var index=7;
	    $(function(){
	    	showOrder();
	    	change();
	    })
	    
	    function showOrder() {
	    	$("#orderTbody").html();
	    	//显示订单信息
	    	$.post("../order", {op:"findOrderInfo"}, function(data) {
	    		var str ="";
	    		$.each(data, function(index, item) {
	    			var cpupic = pic(item.cpupics);  //cpu土拍你
	    			var mbpic = pic(item.mbpics);    //主板图片
	    			var mepic = pic(item.mepics);    //内存图片
	    			var dpic = pic(item.dpics);      //硬盘图片
	    			var spic = pic(item.spics);      //电源图片
	    			var grapic = pic(item.grapics);  //显卡图片
	    			var bpic = pic(item.bpics);      //机箱图片
	    			//var detail = item.detail;
	    			//if (detail == "undefined") {
	    			//	detail = "无";
	    			//}
	    			str += '<tr class="tr2" ><td align="left"><input type="radio" name="radio"><span>'+item.rtime+'</span>&emsp;订单号:<span>'+item.rorderid+'</span></td>'
	    				+ '<td colspan="3" align="left"> 攒机作者:<span>'+item.uname+'</span></td>'
	    				+ '<td><a href="javascript:delete1('+item.rorderid+');" id="content" class="imgdel"></a></td></tr>'
	    				+ '<tr><td id="computerbody">'
	    				+ '<img src="../'+cpupic+'" class="img1" ><img src="../'+mbpic+'" class="img"><img src="../'+mepic+'" class="img"><img src="../'+dpic+'" class="img"><img src="../'+spic+'" class="img"><img src="../'+grapic+'" class="img"><img src="../'+bpic+'" class="img">'
	    				+ '<div class="computerp"><p  class="comp" align="left">'+item.cname+'</p><p class="comp"  align="left">'+item.detail+'</p></div></td>'
	    				+ '<td>￥'+item.sumprice+'</td><td>1</td><td id="orderState">卖家已发货</td><td><input type="button" value="确定收货" class="btn2"></td>'
	    				+'</tr>';
	    		})
	    		$("#orderTbody").append($(str));
	    	},"json");
	    }
	    
	    function pic(pics) {
	    	var pic = pics.split(";");
	    	return pic[0];
	    }
	    
	    function change(){   //更改图片
	    	var time=setInterval(function(){
	    		if(index%7==0){
	    		index=0;
	    	}
	    		if(index==0){
		    		$("#computerbody img").eq(index-1).attr("class","img");
			    }else{
			    	$("#computerbody img").eq(index-1).attr("class","img");
			    }
	    	$("#computerbody img").eq(index).attr("class","img1");
	    
	    	++index;}, 1500);
	    }
	    function delete1(){
	    	$(".popOut").css('display', 'block');
			$(".popOutBg").css('display', 'block');
	    	
	    }
	    function yes(){
	    	
	    	$(".popOut").css('display', 'none');
			$(".popOutBg").css('display', 'none');
	    }
  		function no(){
  			
  			$(".popOut").css('display', 'none');
			$(".popOutBg").css('display', 'none');
	    }
       function find(){
    	   
       }
	   
	</script>
</html>
