<!doctype html>
<html>
<head>
<meta charset="utf-8">
	<style>
	
		.top{
			background: rgb(246,246,246) url("../images/backpic.jpg");
			margin-top: -10px;
			margin-left: -10px;
			width: 1349px;
			height: 650px;
		}
		.logo-tip{
			float:left; 
			margin:22px 0 0 150px; 
			font:20px/34px "Microsoft YaHei",arial; 
			color:#bfbfbf;
		}
		.bottom{
			border: 1px rgb(230,230,230) solid;
			float: left;
			background:white;
			margin-top: 50px;
			margin-left:185px; 
			width: 900px;
			height: 400px;
			border-radius: 10px;
			opacity: 0.9 ;
		}
		.btn{
			width: 100px;
			height:25px;
			margin-left: 60px;
			background:rgb(21,133,201) ;
			border:rgb(21,133,201) 1px solid;
			border-radius: 6px ;
			font-size: 15px;
			color: white
		}
		.btn1{
			width: 150px;
			height:30px;
			border:rgb(230,230,230) 1px solid;
		
			font-size: 15px;
			color: white
		}
		.span1:hover{
			cursor: pointer;
		}
		.code{
			float: left;
			border: 1px rgb(230,230,230);
			font-family:"Lucida Grande", "Lucida Sans Unicode", "Lucida Sans", "DejaVu Sans", Verdana, "sans-serif";
			color: blue;
		}
		.span1{
			float: left;
			font-size: 5px;
			color: skyblue;
			margin-left: 30px;
			margin-top: 3px;
		}
		
	</style>
<title>注册</title>
</head>
	<body>
     <div class="top">
		 <span class="logo-tip">Hi,中关村在线欢迎您!</span>
	 <div class="bottom">
		 <table style="margin-left: 250px;">
			 <tr>
				 <td><p style="font:20px/34px "Microsoft YaHei",arial;  ">注册</p></td>
			 </tr>
			 <tr>
				 <td><img src="../images/iphoneicon.jpg"></td>
				 <td><input type="text" id="tel"  placeholder="请输入手机号" style="width: 230px;height:25px; "></td>
			 </tr>
		      <tr>
				  <td><img src="../images/emailicon.jpg" style="margin-left: 5px "></td>
				  <td><input type="email" id="email"  style="width: 230px;height:25px; " placeholder="请输入邮箱地址"></td>
			 </tr>
			  <tr>
				 <td><img src="../images/person.jpg" style="margin-left: 1px "></td>
				 <td><input type="text" id="name"  placeholder="请输入昵称" style="width: 230px;height:25px;m "></td>
			 </tr>
			  <tr>
				  <td><img src="../images/pswicon.jpg" style="margin-left: -4px "></td>
				  <td><input type="password" id="pwd"  placeholder="请输入密码" style="width: 230px;height:25px; "></td>
			 </tr>
			   <tr>
				  <td><img src="../images/pswicon.jpg" style="margin-left: -4px "></td>
				  <td><input type="password" id="pwd1"  placeholder="请确认密码" style="width: 230px;height:25px; "></td>
			 </tr>
			<!-- <tr>
				 <td></td>
				 <td><input type="text" id="text1" style="width: 90px ;height:25px;margin-left: 0px;"><input type="button" value="免费获取邮箱验证码" class="btn1" ></td>
			 </tr>-->
			  <tr>
				  <td ></td><td> <div id="checkCode" class="code"  onclick="createCode()" ></div>
                      <span onclick="createCode()"  class="span1" >看不清换一张</span>
				  </td>
             </tr>
			 <tr>
				 <td><span style="font-size: 10px;">验证码</span></td>
				 <td><input type="text" id="inputCode" /></td>
			 </tr>
			 <tr>
				 <td><input type="checkbox" id="agree"  ></td>
				 <td><p style="font-size: 5px">已阅读并同意中关村在线用户注册协议和隐私权声明</td>
			 </tr>
			 <tr>
				 <td></td>
				 <td><input type="button" id="button" onclick="validateCode()" value="注册"  class="btn"></td>
			 </tr>
		 </table>
		 
	</div>
	
	</div>
	  <script src="../js/jquery-3.4.1.min.js"></script>
	<script>
		window.onload=function(){
     createCode();    
    }

    function createCode() {
       
    }
    
    function validateCode()
    {
		var reg=/^\d{11}$/;
		var reg1=/\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/;
		var reg2=/^[a-zA-Z]\w{5,17}$/;
		var email=document.getElementById("email").value;
		var name=document.getElementById("name").value;
		//var email1=document.getElementById("text1").value;
		var tel=document.getElementById("tel").value;
        var checkCode = document.getElementById("checkCode").innerHTML;
        var inputCode = document.getElementById("inputCode").value;
		var check =document.getElementById("agree").checked;
		var psw =document.getElementById("pwd").value;
		var psw1 =document.getElementById("pwd1").value;
	    var pwd=$("#pwd").val();
	    console.log(pwd);
		if(check==0){
			alert("请勾选用户协议和隐私声明！");
			return;
		}
		if(tel.length<=0||tel==""){
			alert("请输入手机号码！");
			return;
		}
		if(email.length<=0||email==""){
			alert("请输入邮箱地址！");
			return;
		}
		if(name.length<=0||name==""){
			alert("请输入昵称！");
			return;
		}
		if(psw.length<=0||psw==""){
			alert("请输入密码！");
			return;
		}
		if (inputCode.length <= 0)
        {
            alert("请输入验证码！");
			return;
        }
		if(!reg.test(tel)){
			 alert("手机号格式不正确！");
			return;
		}
		if(!reg1.test(email)){
			 alert("邮箱地址格式不正确！");
			return;
		}
		if(!reg2.test(psw)){
			 alert("密码格式为以字母开头，长度在6~18之间，只能包含字母、数字和下划线！");
			return;
		}
		if(psw!=psw1){
			 alert("两次密码不一致！");
			return;
		}
       
       /* else if (inputCode.toUpperCase() != checkCode.toUpperCase())
        {
            alert("验证码输入有误！");
            createCode(4);
			return;
        }*/
       
		 $.post("../usr",{op:"register",uemail:email,utel:tel,uname:name,upwd:psw},function(data){
			if(data>0){
				confirm("注册成功");
			}else{
				alert("注册失败");
			}
		 },"json")	
		
    }  
	</script>

</body>
</html>